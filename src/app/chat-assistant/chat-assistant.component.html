<div class="chat-container">
  <button class="close-btn" (click)="close()" aria-label="Close chat">
    <span class="close-icon">&times;</span>
  </button>
  <div class="chat-header">MedicalCare Smart Medical Assistant</div>

  <div class="chat-messages">
    <div *ngFor="let msg of messages" [ngClass]="msg.sender">
      <div class="message">{{ msg.text }}</div>
    </div>
  </div>

  <div class="chat-input">
    <input
      [(ngModel)]="userInput"
      (keyup.enter)="sendMessage()"
      placeholder="Describe your symptoms or use the mic..."
    />

    <button
      (click)="startListening()"
      title="Voice input"
      class="mic-btn"
      [class.recording]="isRecording"
    >
      ðŸŽ¤
    </button>

    <div *ngIf="isRecording" class="recording-message">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„...</div>

    <button (click)="sendMessage()" class="send-btn">Send</button>
  </div>

  <div class="language-selector">
    <button
      (click)="changeLanguage('ar-SA')"
      [ngClass]="{ active: language === 'ar-SA' }"
    >
      Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
    </button>
    <button
      (click)="changeLanguage('en-US')"
      [ngClass]="{ active: language === 'en-US' }"
    >
      English
    </button>
  </div>
</div>